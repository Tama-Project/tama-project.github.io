<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untuk Bintangku</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --color-space-dark: #00000a;
            --color-space-light: #10102a;
            --color-nebula-violet: #4a0e69;
            --color-nebula-pink: #d94a9a;
            --color-star: #ffffff;
            --color-star-glow: #f0f8ff;
            --color-gold: #ffd700;
            --font-serif-display: 'Cinzel', serif;
            --font-sans-body: 'Montserrat', sans-serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        body {
            background-color: var(--color-space-dark);
            color: var(--color-star);
            font-family: var(--font-sans-body);
            cursor: none;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* --- STYLING KOSMIK --- */
        #universe {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        #starfield {
            background-image: radial-gradient(ellipse at center, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0) 60%);
            background-size: 1px 1px;
            animation: pulse 10s infinite;
        }

        #nebula {
            position: absolute;
            width: 150vw;
            height: 150vh;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: radial-gradient(circle, var(--color-nebula-pink) 0%, var(--color-nebula-violet) 30%, transparent 60%);
            opacity: 0;
            filter: blur(100px);
            transition: opacity 5s ease-in-out;
        }

        @keyframes pulse {
            50% { opacity: 0.5; }
        }

        /* --- KURSOR KUSTOM --- */
        .cursor {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            border-radius: 50%;
        }
        #cursor-dot {
            width: 6px;
            height: 6px;
            background: var(--color-gold);
            transform: translate(-50%, -50%);
        }
        #cursor-aura {
            width: 40px;
            height: 40px;
            border: 1px solid rgba(255, 215, 0, 0.5);
            transform: translate(-50%, -50%);
            transition: transform 0.2s ease-out, background-color 0.2s ease;
        }
        body.cursor-active #cursor-aura {
            transform: translate(-50%, -50%) scale(1.5);
            background-color: rgba(255, 215, 0, 0.1);
        }

        /* --- SCENES --- */
        .scene {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1.5s ease;
        }
        .scene.active {
            opacity: 1;
            pointer-events: all;
        }

        /* --- SCENE 1: PROLOG --- */
        #scene-prologue h1 {
            font-family: var(--font-serif-display);
            font-size: 2.5rem;
            letter-spacing: 5px;
            font-weight: 400;
        }
        #scene-prologue p {
            font-size: 1rem;
            margin-top: 20px;
            color: rgba(255,255,255,0.7);
        }

        /* --- SCENE 2: KONSTELASI --- */
        #constellation-canvas {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        .star {
            position: absolute;
            width: 20px;
            height: 20px;
            background: var(--color-star);
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            box-shadow: 0 0 10px 2px var(--color-star-glow), 0 0 40px 10px var(--color-nebula-pink);
            filter: blur(2px);
            transition: transform 0.3s ease;
            cursor: none;
        }
        .star.active-target {
            animation: star-pulse 2s infinite;
        }
        .star.connected {
            background-color: var(--color-gold);
            box-shadow: 0 0 15px 5px var(--color-gold), 0 0 60px 20px var(--color-nebula-violet);
        }
        .constellation-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, rgba(255,215,0,0), rgba(255,215,0,0.8));
            transform-origin: left center;
        }
        @keyframes star-pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 10px 2px var(--color-star-glow), 0 0 40px 10px var(--color-nebula-pink); }
            50% { transform: translate(-50%, -50%) scale(1.2); box-shadow: 0 0 20px 5px var(--color-star-glow), 0 0 70px 20px var(--color-nebula-pink); }
        }

        /* --- SCENE 3: PESAN --- */
        #message-container {
            max-width: 600px;
            text-align: center;
        }
        #message-container p {
            font-family: var(--font-serif-display);
            font-size: 2rem;
            line-height: 1.8;
            margin-bottom: 40px;
        }
        .message-word {
            display: inline-block;
            opacity: 0;
            transform: translateY(20px);
        }

        #reignite-button {
            font-family: var(--font-serif-display);
            font-size: 1.2rem;
            letter-spacing: 2px;
            color: var(--color-gold);
            background: transparent;
            border: 1px solid var(--color-gold);
            padding: 15px 30px;
            border-radius: 50px;
            cursor: none;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
        }
        #reignite-button:hover {
            background: var(--color-gold);
            color: var(--color-space-dark);
            box-shadow: 0 0 20px var(--color-gold);
        }
        
        /* --- SCENE 4: FINALE --- */
        #supernova {
            position: fixed;
            width: 1px;
            height: 1px;
            border-radius: 50%;
            background: var(--color-star-glow);
            transform: scale(1);
            z-index: 10;
        }

        #scene-finale h1 {
            font-family: var(--font-serif-display);
            font-size: 3.5rem;
            color: #333;
        }
        #scene-finale p {
            margin-top: 15px;
            font-size: 1.2rem;
            color: #555;
        }
        #whatsapp-button {
            font-family: var(--font-sans-body);
            background: #25D366;
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            margin-top: 40px;
            display: inline-block;
            transition: transform 0.2s ease;
        }
        #whatsapp-button:hover {
            transform: scale(1.05);
        }

    </style>
</head>
<body>

    <div id="universe">
        <div id="starfield"></div>
        <div id="nebula"></div>
    </div>
    
    <div id="cursor-dot" class="cursor"></div>
    <div id="cursor-aura" class="cursor"></div>

    <div id="scene-prologue" class="scene active">
        <h1 id="prologue-title">Sebuah Bintang Kehilangan Arahnya</h1>
        <p id="prologue-subtitle">Klik di mana saja untuk memulai perjalanan</p>
    </div>

    <div id="scene-constellation" class="scene">
        <div id="constellation-canvas"></div>
    </div>

    <div id="scene-message" class="scene">
        <div id="message-container">
            <p id="apology-message"></p>
            <button id="reignite-button">Pulihkan Cahayanya</button>
        </div>
    </div>

    <div id="scene-finale" class="scene">
        <div id="supernova"></div>
        <h1 id="finale-title">Cahayanya Telah Kembali</h1>
        <p>Terima kasih telah menjadi bintang paling terang.</p>
        <a id="whatsapp-button" href="https://wa.me/[GANTI_NOMOR_KAMU]?text=Okay... kita ngobrol ya." target="_blank">Mari kita kembali ke orbit yang sama</a>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const scenes = {
            prologue: document.getElementById('scene-prologue'),
            constellation: document.getElementById('scene-constellation'),
            message: document.getElementById('scene-message'),
            finale: document.getElementById('scene-finale'),
        };
        
        const nebula = document.getElementById('nebula');
        
        // --- LOGIKA KURSOR KUSTOM ---
        const cursorDot = document.getElementById('cursor-dot');
        const cursorAura = document.getElementById('cursor-aura');
        window.addEventListener('mousemove', e => {
            gsap.to(cursorDot, { duration: 0.2, x: e.clientX, y: e.clientY });
            gsap.to(cursorAura, { duration: 0.5, x: e.clientX, y: e.clientY });
        });
        const activateCursor = () => document.body.classList.add('cursor-active');
        const deactivateCursor = () => document.body.classList.remove('cursor-active');

        // --- MANAJEMEN SCENE ---
        const switchScene = (from, to) => {
            from.classList.remove('active');
            to.classList.add('active');
        };

        // --- SCENE 1: PROLOG ---
        const tlPrologue = gsap.timeline();
        tlPrologue.from("#prologue-title", { duration: 2, opacity: 0, scale: 0.8 })
                  .from("#prologue-subtitle", { duration: 1.5, opacity: 0 }, "-=1");

        document.body.addEventListener('click', startConstellation, { once: true });
        
        function startConstellation() {
            gsap.to(scenes.prologue, {
                duration: 1.5,
                opacity: 0,
                onComplete: () => {
                    switchScene(scenes.prologue, scenes.constellation);
                    initConstellation();
                }
            });
        }
        
        // --- SCENE 2: KONSTELASI ---
        const canvas = document.getElementById('constellation-canvas');
        const starPositions = [
            { x: '20%', y: '50%' }, { x: '40%', y: '30%' },
            { x: '60%', y: '40%' }, { x: '50%', y: '65%' }, { x: '80%', y: '55%' }
        ];
        let currentStar = 0;

        function initConstellation() {
            createStar(0);
        }

        function createStar(index) {
            if (index >= starPositions.length) {
                setTimeout(revealMessage, 1000);
                return;
            }
            const pos = starPositions[index];
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = pos.x;
            star.style.top = pos.y;
            canvas.appendChild(star);
            
            gsap.to(star, { 
                duration: 1, 
                scale: 1, 
                ease: 'elastic.out(1, 0.5)',
                onComplete: () => {
                    star.classList.add('active-target');
                    star.addEventListener('click', connectStar);
                    star.addEventListener('mouseover', activateCursor);
                    star.addEventListener('mouseleave', deactivateCursor);
                }
            });
        }

        function connectStar(e) {
            const clickedStar = e.target;
            clickedStar.classList.remove('active-target');
            clickedStar.classList.add('connected');
            clickedStar.removeEventListener('click', connectStar);
            deactivateCursor();

            if (currentStar > 0) {
                const prevPos = starPositions[currentStar - 1];
                const currentPos = starPositions[currentStar];
                
                const prevEl = canvas.children[currentStar - 1];
                const x1 = prevEl.offsetLeft, y1 = prevEl.offsetTop;
                const x2 = clickedStar.offsetLeft, y2 = clickedStar.offsetTop;

                const distance = Math.sqrt((x2-x1)**2 + (y2-y1)**2);
                const angle = Math.atan2(y2-y1, x2-x1) * (180/Math.PI);
                
                const line = document.createElement('div');
                line.className = 'constellation-line';
                line.style.left = `${x1}px`;
                line.style.top = `${y1}px`;
                line.style.width = '0px';
                line.style.transform = `rotate(${angle}deg)`;
                canvas.appendChild(line);
                gsap.to(line, { duration: 1, width: `${distance}px`, ease: 'power2.out' });
            }

            currentStar++;
            createStar(currentStar);
        }

        // --- SCENE 3: PESAN ---
        function revealMessage() {
            gsap.to(nebula, { duration: 5, opacity: 0.3 });
            gsap.to(scenes.constellation, {
                duration: 1.5,
                opacity: 0,
                onComplete: () => switchScene(scenes.constellation, scenes.message)
            });

            const message = "Di galaksi pertemanan kita, aku menciptakan sebuah lubang hitam kecil. Maafkan aku telah meredupkan cahayamu.";
            const messageEl = document.getElementById('apology-message');
            message.split(' ').forEach(word => {
                const span = document.createElement('span');
                span.className = 'message-word';
                span.textContent = word + ' ';
                messageEl.appendChild(span);
            });

            gsap.to(".message-word", {
                duration: 1.5,
                opacity: 1,
                y: 0,
                stagger: 0.1,
                ease: 'power2.out',
                onComplete: () => {
                    gsap.to("#reignite-button", { duration: 1, opacity: 1, y: 0 });
                }
            });
        }

        document.getElementById('reignite-button').addEventListener('click', startFinale);
        document.getElementById('reignite-button').addEventListener('mouseover', activateCursor);
        document.getElementById('reignite-button').addEventListener('mouseleave', deactivateCursor);

        // --- SCENE 4: FINALE ---
        function startFinale() {
            gsap.to(scenes.message, {
                duration: 1,
                opacity: 0,
                onComplete: () => {
                    switchScene(scenes.message, scenes.finale);
                    const supernova = document.getElementById('supernova');
                    gsap.to(supernova, {
                        duration: 2.5,
                        scale: Math.max(window.innerWidth, window.innerHeight) * 2,
                        ease: 'expo.in',
                        onComplete: () => {
                            document.body.style.backgroundColor = '#f0f8ff';
                            const tl = gsap.timeline();
                            tl.from("#finale-title", { duration: 1, opacity: 0, y: 20 })
                              .from("p", { duration: 1, opacity: 0, y: 20 }, "-=0.5")
                              .from("#whatsapp-button", { duration: 1, opacity: 0, y: 20 }, "-=0.5");
                        }
                    });
                }
            });
        }
    });
    </script>
</body>
</html>
